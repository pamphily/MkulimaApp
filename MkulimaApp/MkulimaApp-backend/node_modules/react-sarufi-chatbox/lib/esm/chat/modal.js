import React, { useLayoutEffect } from "react";
import ReactDOM from "react-dom";
import { Close } from "../assets/icons";
var Modal = function (_a) {
    var closeWithBackdrop = _a.closeWithBackdrop, close = _a.close, open = _a.open, children = _a.children, mode = _a.mode;
    useLayoutEffect(function () {
        if (open) {
            document.body.classList.add("sarufi-no-scrolling");
        }
        else {
            document.body.classList.remove("sarufi-no-scrolling");
        }
    }, [open]);
    return ReactDOM.createPortal(React.createElement("div", { className: "sarufi-modal ".concat(open ? "open" : "", "  sarufi-flex-center"), style: {
            zIndex: 200000,
        } },
        open && (React.createElement("div", { className: "sarufi-modal-backdrop ".concat(open ? "open" : ""), onClick: function () {
                if (closeWithBackdrop)
                    close();
            } })),
        React.createElement("div", { className: "sarufi-container ".concat(open ? "open" : "", " sarufi-scroll-bar"), style: {
                color: mode === "dark" ? "rgba(255,255,255,.7)" : "rgba(0,0,0,.7)",
            }, onClick: function () {
                if (closeWithBackdrop)
                    close();
            } },
            React.createElement("div", { className: "sarufi-flex-end sarufi-close-modal", style: {
                    position: "absolute",
                    left: 0,
                    width: "100vw",
                    height: "50px",
                    // padding: "1rem 2rem",
                } },
                React.createElement("button", { onClick: function (e) {
                        e.stopPropagation();
                        e.nativeEvent.stopImmediatePropagation();
                        close();
                    }, title: "Close", className: "sarufi-cursor-pointer", style: {
                        background: "none",
                        border: "none",
                        cursor: "pointer",
                        color: "rgba(255,255,255,.8)",
                        padding: "1rem 2rem",
                    } },
                    React.createElement(Close, null))),
            React.createElement("div", { className: "sarufi-flex-center", style: {
                    height: "100%",
                    width: "100%",
                } },
                React.createElement("div", { onClick: function (e) {
                        e.stopPropagation();
                        e.nativeEvent.stopImmediatePropagation();
                    }, style: {
                        width: "max-content",
                    } }, children)))), document.getElementById("sarufi-modal"));
};
export default Modal;
