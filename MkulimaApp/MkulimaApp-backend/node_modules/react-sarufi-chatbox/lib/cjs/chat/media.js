"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = __importDefault(require("react"));
var media_preview_1 = __importDefault(require("./media-preview"));
var Media = function (_a) {
    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0;
    var chat = _a.chat, mode = _a.mode, fontFamily = _a.fontFamily, fontSize = _a.fontSize, messageIndex = _a.messageIndex;
    return (react_1.default.createElement(react_1.default.Fragment, null,
        ((_b = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _b === void 0 ? void 0 : _b.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_images; })) &&
            ((_e = (_d = (_c = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _c === void 0 ? void 0 : _c.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_images; })) === null || _d === void 0 ? void 0 : _d.send_images) === null || _e === void 0 ? void 0 : _e.map(function (image, index) {
                var _a;
                return (react_1.default.createElement(media_preview_1.default, { url: image.link, caption: (_a = image === null || image === void 0 ? void 0 : image.caption) !== null && _a !== void 0 ? _a : "", type: "images", key: index, mode: mode, fontFamily: fontFamily, fontSize: fontSize, index: index, mediaId: "sarufi-images-player-".concat(messageIndex, "-").concat(index), chat: chat }));
            })),
        ((_f = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _f === void 0 ? void 0 : _f.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_stickers; })) &&
            ((_j = (_h = (_g = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _g === void 0 ? void 0 : _g.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_stickers; })) === null || _h === void 0 ? void 0 : _h.send_stickers) === null || _j === void 0 ? void 0 : _j.map(function (sticker, index) {
                var _a;
                return (react_1.default.createElement(media_preview_1.default, { url: sticker.link, caption: (_a = sticker === null || sticker === void 0 ? void 0 : sticker.caption) !== null && _a !== void 0 ? _a : "", type: "stickers", key: index, mode: mode, fontFamily: fontFamily, fontSize: fontSize, index: index, mediaId: "sarufi-stickers-player-".concat(messageIndex, "-").concat(index), chat: chat }));
            })),
        ((_k = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _k === void 0 ? void 0 : _k.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_videos; })) &&
            ((_o = (_m = (_l = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _l === void 0 ? void 0 : _l.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_videos; })) === null || _m === void 0 ? void 0 : _m.send_videos) === null || _o === void 0 ? void 0 : _o.map(function (video, index) {
                var _a;
                return (react_1.default.createElement(media_preview_1.default, { url: video.link, caption: (_a = video === null || video === void 0 ? void 0 : video.caption) !== null && _a !== void 0 ? _a : "", type: "videos", key: index, mode: mode, fontFamily: fontFamily, fontSize: fontSize, index: index, mediaId: "sarufi-videos-player-".concat(messageIndex, "-").concat(index), chat: chat }));
            })),
        ((_p = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _p === void 0 ? void 0 : _p.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_audios; })) &&
            ((_s = (_r = (_q = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _q === void 0 ? void 0 : _q.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_audios; })) === null || _r === void 0 ? void 0 : _r.send_audios) === null || _s === void 0 ? void 0 : _s.map(function (audio, index) {
                var _a;
                return (react_1.default.createElement(media_preview_1.default, { url: audio.link, caption: (_a = audio === null || audio === void 0 ? void 0 : audio.caption) !== null && _a !== void 0 ? _a : "", type: "audios", key: index, mode: mode, fontFamily: fontFamily, fontSize: fontSize, index: index, mediaId: "sarufi-audios-player-".concat(messageIndex, "-").concat(index), chat: chat }));
            })),
        ((_t = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _t === void 0 ? void 0 : _t.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_documents; })) &&
            ((_w = (_v = (_u = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _u === void 0 ? void 0 : _u.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_documents; })) === null || _v === void 0 ? void 0 : _v.send_documents) === null || _w === void 0 ? void 0 : _w.map(function (document, index) {
                var _a;
                return (react_1.default.createElement(media_preview_1.default, { url: document.link, caption: (_a = document === null || document === void 0 ? void 0 : document.caption) !== null && _a !== void 0 ? _a : "", type: "documents", key: index, mode: mode, fontFamily: fontFamily, fontSize: fontSize, index: index, mediaId: "sarufi-documents-player-".concat(messageIndex, "-").concat(index), chat: chat }));
            })),
        ((_x = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _x === void 0 ? void 0 : _x.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_locations; })) &&
            ((_0 = (_z = (_y = chat === null || chat === void 0 ? void 0 : chat.actions) === null || _y === void 0 ? void 0 : _y.find(function (action) { return action === null || action === void 0 ? void 0 : action.send_locations; })) === null || _z === void 0 ? void 0 : _z.send_locations) === null || _0 === void 0 ? void 0 : _0.map(function (location, index) { return (react_1.default.createElement("div", { key: index, style: {
                    fontSize: "calc(var(--sarufi-font-size) * 0.9 )",
                    background: mode === "dark"
                        ? "rgba(255, 255, 255, .1)"
                        : "rgba(0,0,0,.1)",
                    borderRadius: ".3rem",
                    padding: ".1rem .5rem",
                } },
                react_1.default.createElement("div", { style: {
                        margin: ".5rem",
                    } },
                    react_1.default.createElement("div", { style: {
                            marginBottom: ".4rem",
                        } }, "Location:"),
                    react_1.default.createElement("div", null,
                        (location === null || location === void 0 ? void 0 : location.latitude) && (react_1.default.createElement("div", null,
                            react_1.default.createElement("p", { style: {
                                    marginTop: ".2rem",
                                } },
                                react_1.default.createElement("span", { style: {
                                        opacity: 0.7,
                                    } }, "Latitude:"),
                                " ", location === null || location === void 0 ? void 0 :
                                location.latitude))),
                        (location === null || location === void 0 ? void 0 : location.longitude) && (react_1.default.createElement("div", null,
                            react_1.default.createElement("p", { style: {
                                    marginTop: ".2rem",
                                } },
                                react_1.default.createElement("span", { style: {
                                        opacity: 0.7,
                                    } }, "Longitude:"),
                                " ", location === null || location === void 0 ? void 0 :
                                location.longitude))),
                        (location === null || location === void 0 ? void 0 : location.name) && (react_1.default.createElement("div", null,
                            react_1.default.createElement("p", { style: {
                                    marginTop: ".2rem",
                                } },
                                react_1.default.createElement("span", { style: {
                                        opacity: 0.7,
                                    } }, "Name:"),
                                " ", location === null || location === void 0 ? void 0 :
                                location.name))),
                        (location === null || location === void 0 ? void 0 : location.address) && (react_1.default.createElement("div", null,
                            react_1.default.createElement("p", { style: {
                                    marginTop: ".2rem",
                                } },
                                react_1.default.createElement("span", { style: {
                                        opacity: 0.7,
                                    } }, "Address:"),
                                " ", location === null || location === void 0 ? void 0 :
                                location.address))))))); }))));
};
exports.default = Media;
